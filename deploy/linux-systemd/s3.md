## Installation

This document explains the steps required to setup systemd service for Parseable server using S3 or compatible object store.

## Prerequisites

- Parseable binary available at `/usr/local/bin/`. Download the relevant binary from https://github.com/parseablehq/parseable/releases.
- S3 or compatible object store URL, access key and secret key and bucket name to be used as the storage.

## Create configuration

Please ensure to replace the placeholders with the relevant values.

```sh
cat <<EOT >> /etc/default/parseable
P_USERNAME="parseable"
P_PASSWORD="parseable"
P_ADDR="0.0.0.0:8000"
P_STAGING_DIR="/var/lib/parseable/staging"
P_S3_BUCKET=<s3-bucket>
P_S3_ACCESS_KEY=<access-key>
P_S3_SECRET_KEY=<secret-key>
P_S3_REGION=<region>
P_S3_URL=<s3-url>
EOT
```

## Systemctl

Download `parseable.s3.service` in  `/etc/systemd/system/`

```
( cd /etc/systemd/system/; curl -O https://raw.githubusercontent.com/parseablehq/parseable/main/deploy/linux-systemd/parseable.s3.service )
```

Note: If you want to bind to a port < 1024 with the service running as a regular user, you will need to add bind capability via the AmbientCapabilities directive in the parseable.service file:

```
[Service]
AmbientCapabilities=CAP_NET_BIND_SERVICE
WorkingDirectory=/usr/local/
```

## Enable startup on boot

```
systemctl enable parseable.s3.service
```

## Disable Parseable service

```
systemctl disable parseable.s3.service
```
